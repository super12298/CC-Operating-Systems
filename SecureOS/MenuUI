w, h = term.getSize()
slc = 0
tBarC = 8
tBartC = 1
local redid = fs.open("/OS/Data/ProjectSecure/.UserPref/identification", "r")
local readid = redid.readAll()
redid.close()
print("")
--print(readid) print(identification)

if readid == identification then
BFS.rd("true")
--print("TRUE") sleep(1)
BFS.verc("/OS/Data/ProjectSecure/version", "https://raw.githubusercontent.com/super12298/CC-Operating-Systems/master/SecureOS/version", "/OS/Data/ProjectSecure/.UserPref/update", "https://raw.githubusercontent.com/super12298/CC-Operating-Systems/master/SecureOS/update")
sleep(1)
else
BFS.rd("false")
print("The software on this computer is up to date.")
--print("FALSE") sleep(1)
sleep(1)
end


function drawdesk()
if term.isColor() then
term.setBackgroundColor( colors.blue )
term.clear()
term.setBackgroundColor( colors.gray )
term.setTextColor( colors.white )

term.setCursorPos(1,19)
print("                                                   ")
term.setCursorPos(1,1)
print("                                                   ")
term.setCursorPos(2,1)
print("[Menu]")
term.setCursorPos(42,1)
print("[Settings]")
else
term.clear()
term.setCursorPos(1,19)
print("                                                   ")
term.setCursorPos(1,1)
print("                                                   ")
term.setCursorPos(2,1)
print("[Menu]")
term.setCursorPos(2,2)
print("[Settings]")
end
end

function drawmenu()
term.setTextColor(256)
term.setBackgroundColor(128)
term.setCursorPos(1,2)
print(" Shutdown ")
term.setCursorPos(1,3)
print(" Restart  ")
term.setCursorPos(1,4)
print("          ")
end

function drawsettings()
term.setTextColor(256)
term.setBackgroundColor(128)
term.setCursorPos(42,2)
print(" UI Color ")
term.setCursorPos(42,3)
print("Background")
term.setCursorPos(42,4)
print("          ")
end
 
drawdesk()
while true do
local event, button, X, Y = os.pullEventRaw()
  if slc == 0 then
    if event == "mouse_click" then
      if X >=2 and X <=8 and Y==1 and button ==1 then
      drawmenu()
      slc = 1
      elseif X >=42 and X <=51 and Y==1 and button ==1 then
      drawsettings()
		slc = 2
      else
      drawdesk()
      end
    end
   elseif slc == 1 then
   if event == "mouse_click" then
     if X >=2 and X <=9 and button == 1 and Y==2 then slc = 0
       os.shutdown()
       elseif X>=2 and X<=9 and Y==3 and button==1 then slc = 0
       os.reboot()
       else
       slc = 0
       drawdesk()
     end
     end
  end
end
